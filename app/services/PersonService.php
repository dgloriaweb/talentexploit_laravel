<?php

namespace App\Services;

use App\Person;

class PersonService
{

    /**
     * Build and return the code for persons work preferences hours settings
     * returns a five digit string like 10100
     *
     * @param [int] $person_id
     * @return string
     */
    public static function getPersonWorkPrefHourCode($person_id)
    {

        $person = Person::getPersonById($person_id);

        if (!$person) {
            return false;
        }

        // build above setup from current database values
        $hu1 = $person['normal_hours'];
        $hu2 = $person['nightshift'];
        $hu3 = $person['nightshift_only'];
        $hu4 = $person['other_shift'];
        $hu5 = $person['other_shift_only'];

        return $hu1 . $hu2 . $hu3 . $hu4 . $hu5;
    }

    /**
     * Build and return the code for persons work preferences days settings
     * returns a five digit string like 10100
     *
     * @param [int] $person_id
     * @return string
     */
    public static function getPersonWorkPrefDayCode($person_id)
    {
        $person = Person::getPersonById($person_id);

        if (!$person) {
            return false;
        }

        // build above setup from current database values
        $du1 = $person['workdays'];
        $du2 = $person['saturday'];
        $du3 = $person['sunday'];
        $du4 = $person['bank_holidays'];
        $du5 = $person['sat_sun_bh_only'];

        return $du1 . $du2 . $du3 . $du4 . $du5;
    }
}
